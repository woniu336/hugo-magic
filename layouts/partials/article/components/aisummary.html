<!-- è·å–æ•°æ® -->
{{ $summary := getJSON "data/summary/summary.json" }}

<!-- ä»¥ slug ä½œä¸ºé”šç‚¹æ¥å¯¹åº”æ–‡ç« ä¸æ‘˜è¦ -->
{{ $currentSlug := .Params.slug }}
{{ $matchingSummary := index (where $summary.summaries "slug" $currentSlug) 0 }}

<div class="post-ai">
    <div class="ai-title">
        <i class="fas fa-robot ai-title-icon"></i>
        <div class="ai-title-text">æ‘˜è¦GPT</div>
    </div>

    <!-- Typeit æ‰“å­—æœºæ•ˆæœï¼Œä¸éœ€è¦åˆ™æ³¨é‡Šæ‰ä¸‹é¢è¿™è¡Œä»£ç  -->
    <div id="ai-explanation" class="ai-explanation"></div>

    <div class="ai-explanation ai-explanation-content">
        {{ if $matchingSummary.summary }}
            {{ $matchingSummary.summary }}
        {{ else }}
            æ‘˜è¦å°åŠ©ç†æš‚æ—¶å¤±è”è·‘è·¯å•¦â€¦â€¦ğŸ˜œ
        {{ end }}
    </div>
</div>

<!-- æ‰“å­—æœºæ•ˆæœçš„ JS ä¸éœ€è¦åˆ™æ³¨é‡Šæ‰ -->
<script src="https://npm.elemecdn.com/typeit@8.7.1/dist/index.umd.js"></script>

<script>
document.addEventListener("DOMContentLoaded", function () {
    // ä» .ai-explanation-content å–å€¼
    const matchingSummary = document.querySelector(".ai-explanation-content").textContent;

    new TypeIt("#ai-explanation", {
        strings: matchingSummary,
        speed: 10,
        lifeLike: true,
        waitUntilVisible: true,
    }).go();
});
</script>
